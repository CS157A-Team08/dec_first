{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\angel\\\\Documents\\\\React Test App\\\\express_react_folder\\\\client\\\\src\\\\Components\\\\App2.js\";\nimport axios from 'axios';\nimport React, { Component, Fragment } from 'react';\nimport Categories from './Categories';\nimport { Header, Footer } from './Layouts/index';\nimport { foodItems, positions } from '../store.js';\nexport default class AppPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      food_category: 'Beef',\n      posIndex: 0,\n      restaurants: [],\n      restaurantID: 0,\n      restaurant: {}\n    };\n\n    this.fetchRestaurants = () => {\n      axios.get('http://localhost:12000/allrest').then(response => {\n        this.setState({\n          restaurants: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.getCurrentRest = () => {\n      const restIndex = this.state.restaurantID;\n      console.log(\"REST INDEX: \" + restIndex);\n      axios.get(\"http://localhost:12000/rest/\" + restIndex).then(response => {\n        console.log(\"***DEBUG MSG - getCurrentRest: \" + response.data);\n        this.setState({\n          restaurant: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleCategorySelected = food_categories => {\n      this.setState({\n        food_category: food_categories\n      });\n    };\n\n    this.handlePositionChosen = index => {\n      this.setState({\n        posIndex: index\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchRestaurants(); // Setting state restaurantID to the first in the list's ID\n\n    const firstStore = {};\n    firstStore = this.state.restaurants[0];\n    const firstStoreID = 0;\n    firstStoreID = firstStore.storeID;\n    this.setState({\n      restaurantID: firstStoreID\n    });\n    this.getCurrentRest();\n  }\n\n  //method to get foodItems based on their category\n  getItemsByCategories() {\n    return Object.entries(this.state.foodItems.reduce((foodItems, item) => {\n      const food_categories = item.food_categories;\n      foodItems[food_categories] = foodItems[food_categories] ? [...foodItems[food_categories], item] : [item];\n      return foodItems;\n    }, {}));\n  }\n\n  render() {\n    //const foodItems = this.getItemsByCategories()\n    const food_category = this.state.food_category;\n    const posIndex = this.state.posIndex;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Header, {\n      foodItems: foodItems,\n      onSelectCat: this.handleCategorySelected,\n      food_category: food_category,\n      positions: positions,\n      posIndex: posIndex,\n      onSelectPos: this.handlePositionChosen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.restaurant.storeID), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.restaurants.map(rest => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, rest.createdAt))), React.createElement(Categories, {\n      foodItems: foodItems,\n      food_category: food_category,\n      posIndex: posIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/angel/Documents/React Test App/express_react_folder/client/src/Components/App2.js"],"names":["axios","React","Component","Fragment","Categories","Header","Footer","foodItems","positions","AppPage","state","food_category","posIndex","restaurants","restaurantID","restaurant","fetchRestaurants","get","then","response","setState","data","catch","error","console","log","getCurrentRest","restIndex","handleCategorySelected","food_categories","handlePositionChosen","index","componentDidMount","firstStore","firstStoreID","storeID","getItemsByCategories","Object","entries","reduce","item","render","map","rest","createdAt"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { Component, Fragment } from 'react';\r\nimport Categories from './Categories';\r\nimport { Header, Footer } from './Layouts/index'; \r\nimport { foodItems, positions } from '../store.js';\r\n\r\n\r\nexport default class AppPage extends Component {\r\n    state = {\r\n        food_category: 'Beef',\r\n        posIndex: 0,\r\n        restaurants: [],\r\n        restaurantID: 0,\r\n        restaurant: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchRestaurants();\r\n\r\n        // Setting state restaurantID to the first in the list's ID\r\n        const firstStore = {};\r\n        firstStore = this.state.restaurants[0];\r\n        const firstStoreID = 0;\r\n        firstStoreID = firstStore.storeID;\r\n        this.setState({ restaurantID:firstStoreID});\r\n\r\n        this.getCurrentRest();\r\n    }\r\n\r\n    fetchRestaurants = () => {\r\n        axios\r\n            .get('http://localhost:12000/allrest')\r\n            .then( response => {\r\n                this.setState({ restaurants:response.data });\r\n            })\r\n            .catch( error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    getCurrentRest = () => {\r\n        const restIndex = this.state.restaurantID;\r\n        console.log(\"REST INDEX: \" + restIndex);\r\n        axios\r\n            .get(\"http://localhost:12000/rest/\" + restIndex)\r\n            .then( response => {\r\n                console.log(\"***DEBUG MSG - getCurrentRest: \" + response.data);\r\n                this.setState({ restaurant:response.data });\r\n            })\r\n            .catch( error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    //method to get foodItems based on their category\r\n    getItemsByCategories() {\r\n        return Object.entries(\r\n            this.state.foodItems.reduce((foodItems, item) => {\r\n                const { food_categories } = item\r\n\r\n                foodItems[food_categories] = foodItems[food_categories]\r\n                    ? [...foodItems[food_categories], item]\r\n                    : [item]\r\n\r\n                return foodItems    \r\n            }, {})\r\n        )\r\n    }\r\n\r\n    handleCategorySelected = food_categories => {\r\n        this.setState(\r\n            {food_category: food_categories}\r\n        )\r\n    }\r\n\r\n    handlePositionChosen = index => {\r\n        this.setState(\r\n            { posIndex: index }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        //const foodItems = this.getItemsByCategories()\r\n        const {food_category} = this.state;\r\n        const {posIndex} = this.state;\r\n        return <Fragment>\r\n            <Header\r\n                foodItems = { foodItems }\r\n                onSelectCat = { this.handleCategorySelected }\r\n                food_category = { food_category }\r\n                positions = { positions }\r\n                posIndex = { posIndex }\r\n                onSelectPos = { this.handlePositionChosen }\r\n            />\r\n            <ul>\r\n                {this.state.restaurant.storeID}\r\n            </ul>\r\n            <ul>\r\n                {this.state.restaurants.map(rest => <li>{rest.createdAt}</li>)}\r\n            </ul>\r\n            <Categories\r\n                foodItems={foodItems}\r\n                food_category={food_category}\r\n                posIndex = { posIndex }\r\n            />\r\n            <Footer />\r\n        </Fragment>\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}